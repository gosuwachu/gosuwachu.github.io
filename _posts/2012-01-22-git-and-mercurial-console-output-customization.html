---
layout: post
title: Git and Mercurial console output customization
date: 2012-01-22 00:41:12.000000000 +00:00
categories:
- Blog
tags:
- git
- mercurial
status: publish
type: post
published: true
meta:
  _layout: inherit
  bluth_custom_thumbnail: a:2:{s:11:"gallery_src";s:0:"";s:10:"gallery_id";s:0:"";}
  bluth_post_layout: right_side
  bluth_facebook_status: ''
  bluth_twitter_status: ''
  bluth_google_status: ''
  blu_video_url: ''
  blu_audio_url: ''
  blu_link_url: ''
  blu_quote_text: ''
  blu_quote_author: ''
  blu_quote_src: ''
  blu_gallery: a:1:{i:0;a:2:{s:11:"gallery_src";s:0:"";s:10:"gallery_id";s:0:"";}}
  _edit_last: '1'
  wpb_post_views_count: '4847'
author:
  login: admin
  email: wach.piotrek@gmail.com
  display_name: Piotr Wach
  first_name: Piotr
  last_name: Wach
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p>Recently with a lot of help from guys from Polidea, we have created few useful output customization for our version control systems(for those who use terminal). So let's start with mercurial, here is part of the .hgrc file (Mercurial.ini on Windows, however some commands might not work):</p>
<div style="background: white; overflow: auto; width: auto; color: black; border: solid gray; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"><span style="color: #408080; font-style: italic;"># extension for paging mercurial output</span>
<span style="color: #666666;">[</span>pager<span style="color: #666666;">]</span>
<span style="color: #19177c;">pager</span> <span style="color: #666666;">=</span> <span style="color: #19177c;">LESS</span><span style="color: #666666;">=</span><span style="color: #ba2121;">'FSRX'</span> less
<span style="color: #19177c;">attend</span> <span style="color: #666666;">=</span> annotate, cat, diff, <span style="color: #008000;">export</span>, glog, log, qdiff, hist

<span style="color: #666666;">[</span>extensions<span style="color: #666666;">]</span>
<span style="color: #408080; font-style: italic;"># extension do display log in graphical way</span>
<span style="color: #19177c;">graphlog</span> <span style="color: #666666;">=</span>
<span style="color: #19177c;">pager</span> <span style="color: #666666;">=</span>

<span style="color: #408080; font-style: italic;"># alias for pretty printing mercurial log</span>
<span style="color: #666666;">[</span><span style="color: #008000;">alias</span><span style="color: #666666;">]</span>
<span style="color: #19177c;">hist</span> <span style="color: #666666;">=</span> glog --template <span style="color: #ba2121;">"<pre wp-pre-tag-0></pre>33[31m{node|short}<pre wp-pre-tag-0></pre>33[0m <pre wp-pre-tag-0></pre>33[1;34m&lt;{author|person}&gt;<pre wp-pre-tag-0></pre>33[0m <pre wp-pre-tag-0></pre>33[32m({date|age})<pre wp-pre-tag-0></pre>33[0m \n\t\t{desc}\n"</span></pre>
</div>
<p>&nbsp;</p>
<p><!--more-->We first enable and configure <strong>pager</strong> extension which basically allows you to scroll through the command output, it works pretty much like hg &lt;your command&gt; | less. Then we enable <strong>graphlog</strong> extension, that makes <em>hg log</em> to print nicely formated graph of branches, merges, commits, etc. Finally to additionally color log output we do some magic, and define our own <em>hg log</em> with custom template. Final result of running hg hist looks like this:</p>
<p><a href="http://blog.mobiledev.pl/wp-content/uploads/2012/01/githist1.png"><img class="aligncenter size-full wp-image-711" title="githist" alt="" src="assets/githist1.png" width="398" height="221" /></a></p>
<p>The same can be done for git. Here is equivalent .gitconfig (thanks to Wojciech Erbetowski for this):</p>
<div style="background: white; overflow: auto; width: auto; color: black; border: solid gray; border-width: .1em; padding: .2em .6em;">
<pre style="margin: 0; line-height: 125%;"><span style="color: #666666;">[</span><span style="color: #008000;">alias</span><span style="color: #666666;">]</span>
	<span style="color: #19177c;">hist</span> <span style="color: #666666;">=</span> log --pretty<span style="color: #666666;">=</span>format:<span style="color: #ba2121;">'%Cred%h%Creset %C(bold blue)&lt;%an&gt;%Creset%C(yellow)%d%Creset %Cgreen(%cr)%Creset%n%w(80,8,8)%s'</span> --graph</pre>
</div>
<p>&nbsp;</p>
<p>Happy coding!</p>
