---
layout: post
title: Windows Mobile i .NET Compact Framework
date: 2009-06-24 09:36:08.000000000 +01:00
categories:
- Blog
tags:
- ".net compact framework"
- htc diamond
- Windows Mobile
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  wpb_post_views_count: '243'
author:
  login: admin
  email: wach.piotrek@gmail.com
  display_name: Piotr Wach
  first_name: Piotr
  last_name: Wach
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p><a href="http://blog.mobiledev.pl/wp-content/uploads/2009/06/diamond_group_1024x768.jpg"><img class="aligncenter size-full wp-image-186" title="diamond_group_1024x768" src="assets/diamond_group_1024x768.jpg" alt="diamond_group_1024x768" width="550" height="230" /></a>Dzisiaj oddałem projekt nad którym ostatnio pracowałem. Tworzony był na platformę <strong>Windows Mobile w .NET Compact Framework</strong>. Wcześniej nie miałem kontaktu z tym systemem, więc podzielę się z wami kilkoma obserwacjami jak programowanie na Windows Mobile różni się od programowania na Symbiana.</p>
<p><strong>Od strony developera:</strong></p>
<p>Po pierwsze język w jakim pisałem był to oczywiście C#, więc jest dużo przyjemniejszy niż C++. Chociaż miałem jeden stresowy moment, który okazał się łatwy do przeskoczenia. Ponieważ miałem za zadnie napisać wersje na WinMo ostatniego projektu, który robiłem na Symbiana, więc naturalne wydawało się, że skopiuję całą architekturę przepisując ją na inny język. Szybko okazało się, że C# nie obsługuje dziedziczenia po kilku klasach jednocześnie(nie miałem dużego doświadczenia z C#, żeby o tym wiedzieć) i pojawił się problem ponieważ na tym opierał się system wysyłania wiadomości do serwera. Rozwiązanie okazało się proste, wystarczyło oznaczyć klasę jako interfejs(można dziedziczyć z kilku interfejsów).<!--more--></p>
<p>Kolejna sprawa która sprawiła kłopot to UI. Ciekawe bo nigdy bym nie pomyślał, że Windows Forms mogą sprawiać jakieś problemy, w końcu na PC bardzo przyjemnie się pisze z ich wykorzystaniem. Nie wspomnę o tym, że na starcie pojawił się problem jak zrobić przełączanie między widokami tak jak na Symbianie, które ostatecznie wygląda jak żonglowanie dialogami, więc zostało jakoś rozwiązane.  Prawdziwy problem pojawił się, gdy próbowałem zmusić TextBox'a do przyjmowania tylko liczb i automatycznego przełączania klawiatury w taki tryb. Przeszukałem spory kawałek sieci w poszukiwaniu rozwiązania i okazało się, że wiele osób ma ten problem i nikt nie znalazł dobrego rozwiązania. Mowa tutaj oczywiście tylko o PocketPC, bo na Smartphonach nie ma tego problemu, jest bardzo ładne API, jedna linijka i po sprawie. Natomiast na PocketPC mamy ekranową klawiaturę, która każdy sobie może napisać własną -  w tym właśnie problem! Nie ma uniwersalnego sposobu działającego dla wszystkich możliwych typów klawiatur ekranowych pozwalających przełączyć ja w tryb numeryczny. Prawdę mówiąc w przypadku niektórych klawiatur nie ma to sensu, spotkałem się np. z klawiaturą do wpisywania emotikon ;p Moim zdaniem jest to spore niedopatrzenie ze strony architektury systemu, w końcu wystarczyło dodać jedną funkcję, którą każdy dostawca klawiatury powinien oprogramować (np. <em>SetInputMode</em>) i nie było by tego problemu. Nie mówię, że nie da się tego zrobić dla konkretnego typu klawiatury w końcu istnieje tak funkcja jak <em>SetImData(void * data)</em>, ale jak widać przyjmuje wskaźnik na jakiś blok danych, prawdopodobnie strukturę która jest używana wewnątrz klawiatury i jest dla niej specyficzna.</p>
<p>Na koniec jeszcze kilka słów o tym co można zrobić za pomocą .NET Compact Framework. Odpowiedź brzmi niewiele :) Oczywiście całe UI, ale to tak podstawowa sprawa, że nie warto o tym wspominać. Co ważniejsze czy można np. dostać się do danych zawartych na karcie SIM? Nie. Podobna dotyczy wielu innych funkcji telefonu do których moglibyśmy sobie zażyczyć dostępu. Pozostaję tylko używanie kodu natywnego, nie jest to może specjalne utrudnienie, ale trzeba pamiętać o importowaniu potrzebnych funkcji.</p>
<p><strong>Od strony użytkownika:</strong><img class="alignright" style="margin: 10px;" title="HTC Diamond &amp; iPhone" src="assets/htc-diamond-apple-iphone.jpg" alt="" width="351" height="323" /></p>
<p>Czytałem kiedyś recenzję HTC Diamond (sprzęt na który przyszło mi pracować) z Windows Mobile 6 w której autor zachwalał ten telefon i platformę. Musze powiedzieć, że musieli mu zapłacić duża kasę za ten artykuł, żeby tak nakłamać :p Jedynymi plusami Windows Mobile jest to, że jest podobny do Windows na PC (po tym jak to napisałem już nie jestem pewien czy to zaleta) oraz duża liczba aplikacji. Po za tym porażka, klawiatura ekranowa działa kiepsko, często naciska się iny klawisz niż ten na który przyciskałem rysikiem, o wpisywaniu czegokolwiek używając palca można zapomnieć. TouchFlo 3D, które jest domyślnie zainstalowane na telefonach HTC jest dosyć przyjemne, ale jak dla mnie zupełnie nie praktyczne, można się pochwalić przed znajomymi jakie mamy fajne animacje przy przeglądaniu SMSów nic więcej. System działa wolno, zacina się, nie reaguje na polecenia użytkownika w spodziewanym tempie. Często przypadkowo coś się kliknie na ekranie, albo zamknie - bardzo irytujące.</p>
<p>Podsumowując, kiedyś zastanawiałem się nad kupnem telefonu z Windows Mobile, ale po doświadczeniach z HTC Diamond, życzę temu systemowi szybkiej śmierci :P Jak do tej pory moim faworytem wśród telefonów pozostaje Nokia E71, ale juz na drugim miejscu będzie chyba Android (iPhone mi się nie podoba bo wygląda ładnie tylko na obrazkach, widzieliście z boku kiedyś osobę która przez niego rozmawia? wygląda jak placek ;p). Tak więc nie dajcie się zwieść dobrymi recenzjami Windows Mobile, nie warto się w to pakować, już każda inna platforma będzie lepsza.</p>
